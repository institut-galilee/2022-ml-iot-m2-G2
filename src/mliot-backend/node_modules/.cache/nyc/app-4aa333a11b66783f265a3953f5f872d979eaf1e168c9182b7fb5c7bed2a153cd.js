'use strict';/**
 * Port number the MLIoT Examination API Server
 */function cov_sjle0qhkv(){var path="/Users/chris/Beno/USPN/MLIoT/2022-ml-iot-m2-G2/src/mliot-backend/src/app.js";var hash="e86e957d0b35a440c1d4b53ac2e7cfe7b54256f8";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/chris/Beno/USPN/MLIoT/2022-ml-iot-m2-G2/src/mliot-backend/src/app.js",statementMap:{"0":{start:{line:6,column:13},end:{line:6,column:17}},"1":{start:{line:11,column:16},end:{line:11,column:34}},"2":{start:{line:12,column:12},end:{line:12,column:21}},"3":{start:{line:13,column:0},end:{line:13,column:23}},"4":{start:{line:18,column:11},end:{line:18,column:33}},"5":{start:{line:19,column:12},end:{line:19,column:43}},"6":{start:{line:24,column:15},end:{line:24,column:32}},"7":{start:{line:25,column:12},end:{line:25,column:78}},"8":{start:{line:30,column:15},end:{line:30,column:32}},"9":{start:{line:31,column:13},end:{line:31,column:28}},"10":{start:{line:32,column:0},end:{line:37,column:3}},"11":{start:{line:42,column:26},end:{line:42,column:52}},"12":{start:{line:47,column:0},end:{line:55,column:2}},"13":{start:{line:48,column:4},end:{line:54,column:9}},"14":{start:{line:49,column:24},end:{line:49,column:41}},"15":{start:{line:51,column:12},end:{line:51,column:28}},"16":{start:{line:52,column:12},end:{line:52,column:32}},"17":{start:{line:57,column:0},end:{line:59,column:2}},"18":{start:{line:58,column:4},end:{line:58,column:83}},"19":{start:{line:61,column:0},end:{line:61,column:20}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:47,column:22},end:{line:47,column:23}},loc:{start:{line:47,column:42},end:{line:55,column:1}},line:47},"1":{name:"(anonymous_1)",decl:{start:{line:49,column:14},end:{line:49,column:15}},loc:{start:{line:49,column:24},end:{line:49,column:41}},line:49},"2":{name:"(anonymous_2)",decl:{start:{line:50,column:15},end:{line:50,column:16}},loc:{start:{line:50,column:24},end:{line:53,column:9}},line:50},"3":{name:"(anonymous_3)",decl:{start:{line:57,column:34},end:{line:57,column:35}},loc:{start:{line:57,column:40},end:{line:59,column:1}},line:57}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0},f:{"0":0,"1":0,"2":0,"3":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e86e957d0b35a440c1d4b53ac2e7cfe7b54256f8"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_sjle0qhkv=function(){return actualCoverage;};}return actualCoverage;}cov_sjle0qhkv();const port=(cov_sjle0qhkv().s[0]++,8080);/**
 * We use Express JS as web app framework
 */const express=(cov_sjle0qhkv().s[1]++,require('express'));const app=(cov_sjle0qhkv().s[2]++,express());cov_sjle0qhkv().s[3]++;app.use(express.json());/**
 * Import of File System and Rotating File System package to read and write files
 */const fs=(cov_sjle0qhkv().s[4]++,require('fs').promises);const rfs=(cov_sjle0qhkv().s[5]++,require('rotating-file-stream'));/**
 * Bunyan will be used for logging across this API
 */const bunyan=(cov_sjle0qhkv().s[6]++,require('bunyan'));const log=(cov_sjle0qhkv().s[7]++,bunyan.createLogger({name:'MLIoT Examination API Server logger'}));/**
 * Debugging tool
 */const morgan=(cov_sjle0qhkv().s[8]++,require('morgan'));const path=(cov_sjle0qhkv().s[9]++,require('path'));cov_sjle0qhkv().s[10]++;app.use(morgan('dev',{stream:rfs.createStream('access.log',{interval:'1d',path:path.join('./logs','access')})}));/**
 * The file path where the questionnaire is stored
 */const questionnairePath=(cov_sjle0qhkv().s[11]++,'./res/questionnaire.json');/**
 * End Point that returns the list of questions and answers as multiple options
 */cov_sjle0qhkv().s[12]++;app.get('/questions',(req,res,next)=>{cov_sjle0qhkv().f[0]++;cov_sjle0qhkv().s[13]++;fs.readFile(questionnairePath,{encoding:'utf8',flag:'r'}).then(content=>{cov_sjle0qhkv().f[1]++;cov_sjle0qhkv().s[14]++;return res.json(content);}).catch(error=>{cov_sjle0qhkv().f[2]++;cov_sjle0qhkv().s[15]++;log.error(error);cov_sjle0qhkv().s[16]++;res.status(500).send;});});cov_sjle0qhkv().s[17]++;module.exports=app.listen(port,()=>{cov_sjle0qhkv().f[3]++;cov_sjle0qhkv().s[18]++;log.info(`MLIoT Examination API Server is running at http://localhost:${port}`);});cov_sjle0qhkv().s[19]++;module.exports=app;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJwb3J0IiwiZXhwcmVzcyIsInJlcXVpcmUiLCJhcHAiLCJ1c2UiLCJqc29uIiwiZnMiLCJwcm9taXNlcyIsInJmcyIsImJ1bnlhbiIsImxvZyIsImNyZWF0ZUxvZ2dlciIsIm5hbWUiLCJtb3JnYW4iLCJwYXRoIiwic3RyZWFtIiwiY3JlYXRlU3RyZWFtIiwiaW50ZXJ2YWwiLCJqb2luIiwicXVlc3Rpb25uYWlyZVBhdGgiLCJnZXQiLCJyZXEiLCJyZXMiLCJuZXh0IiwicmVhZEZpbGUiLCJlbmNvZGluZyIsImZsYWciLCJ0aGVuIiwiY29udGVudCIsImNhdGNoIiwiZXJyb3IiLCJzdGF0dXMiLCJzZW5kIiwibW9kdWxlIiwiZXhwb3J0cyIsImxpc3RlbiIsImluZm8iXSwibWFwcGluZ3MiOiJBQUFBLGFBRUE7QUFDQTtBQUNBLEcscThFQVdZO3lGQVZaLEtBQU1BLENBQUFBLElBQUkseUJBQUcsSUFBSCxDQUFWLENBRUE7QUFDQTtBQUNBLEdBQ0EsS0FBTUMsQ0FBQUEsT0FBTyx5QkFBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBVixDQUFiLENBQ0EsS0FBTUMsQ0FBQUEsR0FBRyx5QkFBR0YsT0FBTyxFQUFWLENBQVQsQyx1QkFDQUUsR0FBRyxDQUFDQyxHQUFKLENBQVFILE9BQU8sQ0FBQ0ksSUFBUixFQUFSLEVBRUE7QUFDQTtBQUNBLEdBQ0EsS0FBTUMsQ0FBQUEsRUFBRSx5QkFBR0osT0FBTyxDQUFDLElBQUQsQ0FBUCxDQUFjSyxRQUFqQixDQUFSLENBQ0EsS0FBTUMsQ0FBQUEsR0FBRyx5QkFBR04sT0FBTyxDQUFDLHNCQUFELENBQVYsQ0FBVCxDQUVBO0FBQ0E7QUFDQSxHQUNBLEtBQU1PLENBQUFBLE1BQU0seUJBQUdQLE9BQU8sQ0FBQyxRQUFELENBQVYsQ0FBWixDQUNBLEtBQU1RLENBQUFBLEdBQUcseUJBQUdELE1BQU0sQ0FBQ0UsWUFBUCxDQUFvQixDQUFDQyxJQUFJLENBQUUscUNBQVAsQ0FBcEIsQ0FBSCxDQUFULENBRUE7QUFDQTtBQUNBLEdBQ0EsS0FBTUMsQ0FBQUEsTUFBTSx5QkFBR1gsT0FBTyxDQUFDLFFBQUQsQ0FBVixDQUFaLENBQ0EsS0FBTVksQ0FBQUEsSUFBSSx5QkFBR1osT0FBTyxDQUFDLE1BQUQsQ0FBVixDQUFWLEMsd0JBQ0FDLEdBQUcsQ0FBQ0MsR0FBSixDQUFRUyxNQUFNLENBQUMsS0FBRCxDQUFRLENBQ2xCRSxNQUFNLENBQUVQLEdBQUcsQ0FBQ1EsWUFBSixDQUFpQixZQUFqQixDQUErQixDQUNuQ0MsUUFBUSxDQUFFLElBRHlCLENBRW5DSCxJQUFJLENBQUVBLElBQUksQ0FBQ0ksSUFBTCxDQUFVLFFBQVYsQ0FBb0IsUUFBcEIsQ0FGNkIsQ0FBL0IsQ0FEVSxDQUFSLENBQWQsRUFPQTtBQUNBO0FBQ0EsR0FDQSxLQUFNQyxDQUFBQSxpQkFBaUIsMEJBQUcsMEJBQUgsQ0FBdkIsQ0FFQTtBQUNBO0FBQ0EsRyx3QkFDQWhCLEdBQUcsQ0FBQ2lCLEdBQUosQ0FBUSxZQUFSLENBQXNCLENBQUNDLEdBQUQsQ0FBTUMsR0FBTixDQUFXQyxJQUFYLEdBQW9CLGdEQUN0Q2pCLEVBQUUsQ0FBQ2tCLFFBQUgsQ0FBWUwsaUJBQVosQ0FBK0IsQ0FBQ00sUUFBUSxDQUFFLE1BQVgsQ0FBbUJDLElBQUksQ0FBRSxHQUF6QixDQUEvQixFQUNLQyxJQURMLENBQ1VDLE9BQU8sRUFBRyxzREFBQU4sQ0FBQUEsR0FBRyxDQUFDakIsSUFBSixDQUFTdUIsT0FBVCxFQUFpQixDQURyQyxFQUVLQyxLQUZMLENBRVdDLEtBQUssRUFBSSxnREFDWnBCLEdBQUcsQ0FBQ29CLEtBQUosQ0FBVUEsS0FBVixFQURZLHdCQUVaUixHQUFHLENBQUNTLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUNILENBTEwsRUFPSCxDQVJELEUsd0JBVUFDLE1BQU0sQ0FBQ0MsT0FBUCxDQUFpQi9CLEdBQUcsQ0FBQ2dDLE1BQUosQ0FBV25DLElBQVgsQ0FBaUIsSUFBTSxnREFDcENVLEdBQUcsQ0FBQzBCLElBQUosQ0FBVSwrREFBOERwQyxJQUFLLEVBQTdFLEVBQ0gsQ0FGZ0IsQ0FBakIsQyx3QkFJQWlDLE1BQU0sQ0FBQ0MsT0FBUCxDQUFpQi9CLEdBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnXG5cbi8qKlxuICogUG9ydCBudW1iZXIgdGhlIE1MSW9UIEV4YW1pbmF0aW9uIEFQSSBTZXJ2ZXJcbiAqL1xuY29uc3QgcG9ydCA9IDgwODBcblxuLyoqXG4gKiBXZSB1c2UgRXhwcmVzcyBKUyBhcyB3ZWIgYXBwIGZyYW1ld29ya1xuICovXG5jb25zdCBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpXG5jb25zdCBhcHAgPSBleHByZXNzKClcbmFwcC51c2UoZXhwcmVzcy5qc29uKCkpXG5cbi8qKlxuICogSW1wb3J0IG9mIEZpbGUgU3lzdGVtIGFuZCBSb3RhdGluZyBGaWxlIFN5c3RlbSBwYWNrYWdlIHRvIHJlYWQgYW5kIHdyaXRlIGZpbGVzXG4gKi9cbmNvbnN0IGZzID0gcmVxdWlyZSgnZnMnKS5wcm9taXNlc1xuY29uc3QgcmZzID0gcmVxdWlyZSgncm90YXRpbmctZmlsZS1zdHJlYW0nKVxuXG4vKipcbiAqIEJ1bnlhbiB3aWxsIGJlIHVzZWQgZm9yIGxvZ2dpbmcgYWNyb3NzIHRoaXMgQVBJXG4gKi9cbmNvbnN0IGJ1bnlhbiA9IHJlcXVpcmUoJ2J1bnlhbicpXG5jb25zdCBsb2cgPSBidW55YW4uY3JlYXRlTG9nZ2VyKHtuYW1lOiAnTUxJb1QgRXhhbWluYXRpb24gQVBJIFNlcnZlciBsb2dnZXInfSlcblxuLyoqXG4gKiBEZWJ1Z2dpbmcgdG9vbFxuICovXG5jb25zdCBtb3JnYW4gPSByZXF1aXJlKCdtb3JnYW4nKVxuY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKVxuYXBwLnVzZShtb3JnYW4oJ2RldicsIHtcbiAgICBzdHJlYW06IHJmcy5jcmVhdGVTdHJlYW0oJ2FjY2Vzcy5sb2cnLCB7XG4gICAgICAgIGludGVydmFsOiAnMWQnLFxuICAgICAgICBwYXRoOiBwYXRoLmpvaW4oJy4vbG9ncycsICdhY2Nlc3MnKVxuICAgIH0pXG59KSlcblxuLyoqXG4gKiBUaGUgZmlsZSBwYXRoIHdoZXJlIHRoZSBxdWVzdGlvbm5haXJlIGlzIHN0b3JlZFxuICovXG5jb25zdCBxdWVzdGlvbm5haXJlUGF0aCA9ICcuL3Jlcy9xdWVzdGlvbm5haXJlLmpzb24nXG5cbi8qKlxuICogRW5kIFBvaW50IHRoYXQgcmV0dXJucyB0aGUgbGlzdCBvZiBxdWVzdGlvbnMgYW5kIGFuc3dlcnMgYXMgbXVsdGlwbGUgb3B0aW9uc1xuICovXG5hcHAuZ2V0KCcvcXVlc3Rpb25zJywgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgZnMucmVhZEZpbGUocXVlc3Rpb25uYWlyZVBhdGgsIHtlbmNvZGluZzogJ3V0ZjgnLCBmbGFnOiAncid9KVxuICAgICAgICAudGhlbihjb250ZW50ID0+cmVzLmpzb24oY29udGVudCkpXG4gICAgICAgIC5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgICBsb2cuZXJyb3IoZXJyb3IpXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZFxuICAgICAgICB9XG4gICAgICAgIClcbn0pXG5cbm1vZHVsZS5leHBvcnRzID0gYXBwLmxpc3Rlbihwb3J0LCAoKSA9PiB7XG4gICAgbG9nLmluZm8oYE1MSW9UIEV4YW1pbmF0aW9uIEFQSSBTZXJ2ZXIgaXMgcnVubmluZyBhdCBodHRwOi8vbG9jYWxob3N0OiR7cG9ydH1gKVxufSlcblxubW9kdWxlLmV4cG9ydHMgPSBhcHBcbiJdfQ==